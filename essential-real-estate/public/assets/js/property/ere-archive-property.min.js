!function(e){"use strict";e(document).ready(function(){function a(){e(".property-filter-placeholder",".archive-property-action .sort-property").on("click",function(a){var t=e(this);return a.preventDefault(),t.next("ul").hasClass("active")?(t.next("ul").removeClass("active"),t.removeClass("active")):(t.next("ul").addClass("active"),t.addClass("active")),!1}),e("li",".archive-property-action .sort-property").each(function(){var a=e(this);window.location.href.indexOf("sortby="+a.children().data("sortby"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html())),a.on("click","a",function(a){return e(this).closest("ul").removeClass("active"),e(this).parent().hasClass("active")?(a.preventDefault(),!1):void e(this).closest("ul").prev("span").html(e(this).html())})}),e("li",".archive-property-action .property-status").each(function(){var a=e(this);window.location.href.indexOf("status="+a.children().data("status"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html()))}),e(document).on("click",function(a){0==e(a.target).closest(".sort-property").length&&e("ul",".sort-property").each(function(){var a=e(this);a.hasClass("active")&&(a.removeClass("active"),a.prev("span").removeClass("active"))})}),e("span",".archive-property-action .view-as").each(function(){var a=e(this);window.location.href.indexOf("view_as")>-1?window.location.href.indexOf("view_as="+a.data("view-as"))>-1&&a.addClass("active"):e(".ere-property",".ere-property-wrap").hasClass(a.data("view-as"))&&a.addClass("active");var t=!0;a.on("click",function(s){var r=e(this),i=r.data("view-as"),n=r.closest(".ere-property-wrap").find(".ere-property"),o=r.closest(".view-as").data("admin-url");return s.preventDefault(),r.hasClass("active")||!t?!1:(t=!1,r.closest(".view-as").find("span").removeClass("active"),r.addClass("active"),n.fadeOut(),setTimeout(function(){"property-list"==i?n.removeClass("property-grid").addClass("property-list list-1-column"):n.removeClass("property-list list-1-column").addClass("property-grid"),n.fadeIn("slow")},400),e.ajax({url:o,data:{action:"ere_property_set_session_view_as_ajax",view_as:i},success:function(){t=!0},error:function(){a.button("reset"),t=!0}}),void 0)})})}function t(){e(".paging-navigation",".ere-property").each(function(){var a=e(this);0===a.find("a.next").length?a.addClass("next-disable"):a.removeClass("next-disable")})}a(),t(),e("#ere_save_search").click(function(a){a.preventDefault();var t=e(this),s=e("#ere_save_search_form"),r=t.data("ajax-url");e.ajax({url:r,data:s.serialize(),method:s.attr("method"),dataType:"JSON",beforeSend:function(){t.children("i").remove(),t.append('<i class="fa fa-spinner fa-spin"></i>')},success:function(e){"undefined"==typeof e.success&&ERE.login_modal(),e.success&&(t.children("i").removeClass("fa-spinner fa-spin"),t.children("i").addClass("fa-check"))},error:function(){t.children("i").removeClass("fa-spinner fa-spin"),t.children("i").addClass("fa-exclamation-triangle")},complete:function(){t.children("i").removeClass("fa-spinner fa-spin")}})})})}(jQuery);